<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The Riding Hunter | Superbike's Club</title>

<meta charset="UTF-8">
  <meta name="description" content="One the fastest growing Biker's platform of the state.Already Lucknow's Largest Superbikers Club.">
  <meta name="keywords" content="TRH, theridinghunter, The Riding Hunter, Lucknow Superbikers, Superbikers of Lucknow, Bikers Club Lucknow, Lucknow largest club, asad, Mohammad Asad, Mohammad Saad">
  <meta name="author" content="Mohammad Asad and Mohammad Saad">
  <meta name="google-site-verification" content="qkFyQP81aO_S0rUMSHLd5pFmbcJxVJxv5YttSgkWl08" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/images/icon_theridinghunter.png"/>

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Herr+Von+Muellerhoff" rel="stylesheet">

    <link rel="stylesheet" href="./css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="./css/animate.css">

    <link rel="stylesheet" href="./css/owl.carousel.min.css">
    <link rel="stylesheet" href="./css/owl.theme.default.min.css">
    <link rel="stylesheet" href="./css/magnific-popup.css">

    <link rel="stylesheet" href="./css/aos.css">

    <link rel="stylesheet" href="/css/ionicons.min.css">

    <link rel="stylesheet" href="/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/css/jquery.timepicker.css">


<link rel="stylesheet" href="https://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css"></style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script> 

	


    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/icomoon.css">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>

	<div id="colorlib-page">
		<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
		<aside id="colorlib-aside" role="complementary" class="js-fullheight text-center">
			<h1 id="colorlib-logo"><a href="#"><span class="img" style="background-image: url(/images/bikes/{{bikeimage}});"></span>{{name}}</a></h1>
			<nav id="colorlib-main-menu" role="navigation">
				<ul>
					<li class="colorlib-active"><a href="#">Imagekit.io</a></li>
				</ul>
			</nav>

			<div class="colorlib-footer">
				<h3>Assignment</h3>
			</div>
		</aside> <!-- END-trh-ASIDE -->
		<div id="colorlib-main">
			<section class="ftco-section-no-padding bg-light">
				<div class="hero-wrap">
					<div class="overlay"></div>
					<div class="d-flex">
						<div class="author-image text img p-md-5">
							<p>Image Upload</p>
							<form method="post" action="upload_images" enctype="multipart/form-data" id="uploadForm">
							<input type="file" name="images" id="images" multiple/><br /><br />
              <input type="text" name="user" placeholder="username" id="username" required/><br /><br />
							<button type="submit" name="upload" id="submitForm">Upload</button>
							</form>
              <span id = "status"></span>

            <i>Scroll Down to Search List of Images </i>
						</div>
						<div class="author-info text p-4 p-md-5 mt-5 mb-5">
							<div class="desc">
								<span class="subheading">Nice To Meet You</span>
								<h1 class="big-letter">{{bike}}</h1>
								<h1 class="mb-4"><span>My Name is {{name}}</span></h1>
								<p class="mb-4">I am a Computer Engineer and a Passionate biker, from the city of Nawabs, Lucknow.
									 <br> Enjoyed making the assignment</p>
								<p>I ride {{bike}}</p>
								<h3 class="signature h1">{{name}}</h3>
								<ul class="ftco-social mt-3">
		              <li class="ftco-animate"><a href="{{insta}}" target="_blank"><span class="icon-instagram"></span></a></li>
		              <li class="ftco-animate"><a href="{{linkedin}}" target="_blank"><span class="icon-linkedin"></span></a></li>
					  <li class="ftco-animate"><a href="{{playstore}}" target="_blank"><span class="icon-android"></span></a></li>
		              <li class="ftco-animate"><a href="{{github}}" target="_blank"><span class="icon-github"></span></a></li>
					  <li class="ftco-animate"><a href="{{link}}" target="_blank"><span class="icon-link"></span></a></li>
		            </ul>
	            </div>
						</div>
					</div>
				</div>
			</section>
<section class="ftco-section instagram">
		<div class="container">
      
					<div class="row justify-content-center mb-2 pb-3">
	          <div class="col-md-7 heading-section heading-section-2 text-center ftco-animate">
	            <h2 class="mb-4">Files on Server</h2>
              <span id = "statusDelete" style="color: aqua;"></span>
	          </div>
	        </div>  
					<div class="row no-gutters">
		        		<div class="col-sm-12 col-md ftco-animate">
							<table id="myTable" class="table table-striped" >  
        <thead>  
          <tr>  
            <th>No.</th>  
            <th>Folder</th>
            <th>File Name</th>  
            <th>File Type</th>  
            <th>Date</th>  
            <th>Size (Bytes)</th>  
          </tr>  
        </thead>  
        <tbody>
          {{#each files as |file i|}}
          <tr>  
            <td>{{i}}</td>  
            <td><img src="/images/delete.png" alt="delete folder" onclick="callMe(true,'{{_id}}','{{file.username}}')"/> &nbsp;
            {{file.username}}</td>
            <td>
            <a href="/uploads/imagekits/{{file.username}}/{{file.filename}}" class="insta-img image-popup" style="max-height: 20px;display:inline;">
            {{file.filename}}</a>
            <img src="/images/delete.png" alt="delete file" style="display:inline;" onclick="callMe(false,'{{_id}}','{{file.username}}')"/>
            </td>  
            <td>{{file.mimetype}}</td>  
            <td>{{file.date}}</td>  
            <td>{{file.size}}</td>  
          </tr>
          {{/each}}  
        </tbody>  
      </table>  
						</div>
					</div>


		</div>
</section>

<section class="ftco-section instagram">
				<div class="container">
					<div class="row justify-content-center mb-2 pb-3">
	          <div class="col-md-7 heading-section heading-section-2 text-center ftco-animate">
	            <h2 class="mb-4">Preview of photos on Server</h2>
	          </div>
	        </div>  
					<div class="row no-gutters">
            {{#files}}
		        <div class="col-sm-12 col-md ftco-animate">
		          <a href="/uploads/imagekits/{{username}}/{{filename}}" class="insta-img image-popup" style="background-image: url(/uploads/imagekits/{{username}}/{{filename}});">
		            <div class="icon d-flex justify-content-center">
		              <span class="icon-instagram align-self-center"></span>
		            </div>
		          </a>
		        </div>
            {{/files}}

		        
		      </div>
				</div>
			</section>


	    <footer class="ftco-footer ftco-bg-dark ftco-section">
	      <div class="container px-md-5">
	        <div class="row">
	          <div class="col-md-6">
	            <div class="ftco-footer-widget mb-6 ml-md-6">
	             <img src="/images/theridinghunter.png" class="col-md-4">
	            </div>
	          </div>


	          <div class="col-md-6">
	            <div class="ftco-footer-widget mb-6">
	            	<div class="block-23 mb-3">
		              <ul>
		                <li><span class="icon icon-map-marker"></span><span class="text">The Riding Hunter Street,<br> Burlington, Lucknow, UP, India</span></li>
		                <li><a href="#"><span class="icon icon-envelope"></span><span class="text">#trh #theridinghunter @theridinghunter</span></a></li>
		              </ul>
		            </div>
	            </div>
	          </div>
	        </div>
	        <div class="row">
	          <div class="col-md-12">

	            <p>
	  Copyright &copy; All rights reserved | The Riding Hunter | Made with <i class="icon-heart" aria-hidden="true"></i> by <a href="http://theridinghunter.com/asad" target="_blank">Mohammad Asad</a>
	          </div>
	        </div>
	      </div>
	    </footer>
		</div>
	</div>

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen">
    <svg class="circular" width="48px" height="48px">
      <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/>
      <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/>
      </svg>
      </div>


  <script src="/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="/js/popper.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/jquery.easing.1.3.js"></script>
  <script src="/js/jquery.waypoints.min.js"></script>
  <script src="/js/jquery.stellar.min.js"></script>
  <script src="/js/owl.carousel.min.js"></script>
  <script src="/js/jquery.magnific-popup.min.js"></script>
  <script src="/js/aos.js"></script>
  <script src="/js/scrollax.min.js"></script>

  <script src="/js/main.js"></script>



<script>     
  $(document).ready(function() { 
     $('#myTable').dataTable(); 
});
</script>

<script>
   $('#uploadForm').submit(function(e){
     e.preventDefault();
        $("#status").empty().text("File is uploading...");
     
     var user = $('#username').val(); 
      var files = $('#images').get(0).files, formData = new FormData();
    if (files.length === 0) {
        $("#status").empty().text("Upload Atleast 1 File");  
        return false;
    }
    // Append the files to the formData.

    formData.append('username',user)
    
    for (var i=0; i < files.length; i++) {
        var file = files[i];
        formData.append('images', file, file.name);
    }

    $.ajax({
    method: 'post',
    processData: false,
    contentType: false,
    cache: false,
    data: formData,
    enctype: 'multipart/form-data',
    url: 'upload_images',
    success: function (response) {
        $("#status").empty().text(response.msg); 
        setTimeout(()=>{location.reload()},1000)
  
    }
});

     return false;
});
</script>

<script>
function callMe(isFolder,id,folder) {
  console.log("hi",isFolder,id,folder)
    var f=folder?folder:"";
    var data0 = {isFolder:isFolder,id:id,folder:f};
    console.log(data0)

    $.ajax({
    method: 'post',
    dataType: 'json',
    processData:false,
    contentType: 'application/json; charset=UTF-8',
    cache: false,
    data: JSON.stringify(data0),
    enctype: 'multipart/form-data',
    url: 'http://localhost:3000/delete_images',
    success: function (response) {
        $("#statusDelete").empty().text(response.msg);
        setTimeout(()=>{$("#statusDelete").empty().text();location.reload()},1500)
  
    }
});

}
</script>

  </body>
</html>
